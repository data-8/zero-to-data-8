

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Deploying JupyterHub &#8212; Zero to Data 8</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/sphinx-book-theme.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/language_data.js"></script>
    <script src="../../../../_static/togglebutton.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/mystnb.js"></script>
    <script src="../../../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <link rel="canonical" href="zero-to-data-8/content/v2/tech/jupyterhub/setup_jupyterhub.html" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="zero-to-data-8/content/v2/tech/jupyterhub/setup_jupyterhub.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Deploying JupyterHub" />
<meta property="og:description" content="Deploying JupyterHub  JupyterHub gives each of your students access to their own computational environment. Each student will have their own account with their " />
<meta property="og:image"       content="zero-to-data-8/_static/data8.png" />

<meta name="twitter:card" content="summary">


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../index.html">
  
  <img src="../../../../_static/data8.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Zero to Data 8</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="../../../v1/intro.html">An Educator’s Guide to Data 8</a>
  </li>
  <li class="">
    <a href="../../../v1/deploy/README.html">Deploying Data 8</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/deploy/choose_cloud.html">Choose where to deploy your JupyterHub</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/setup_jupyterhub.html">Deploy your JupyterHub</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/customize_hub_environment.html">Customize the JupyterHub environment for Data 8</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/connect_website_and_textbook.html">Set up your course website and textbook</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/connect_labs_and_homework.html">Set up your course labs and homework</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/course_logistics.html">Wisdom and tips for course logistics</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/deploy_locally.html">Demo the textbook locally</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../../../v1/tech/README.html">Technology stack</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/tech/considerations.html">General Technical Considerations</a>
    </li>
    <li class="">
      <a href="../../../v1/tech/tech.html">Technical Needs and the Tools that Do Them</a>
    </li>
    <li class="">
      <a href="../../../v1/tech/team.html">The Data 8 Tech Team Structure</a>
    </li>
    <li class="">
      <a href="../../../v1/tech/process.html">The DataHub Deployment Process</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../../../v1/teaching/README.html">Teaching and topics</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/teaching/inspiration.html">Inspiration for Data 8 Pedagogy</a>
    </li>
    <li class="">
      <a href="../../../v1/teaching/syllabus.html">The Data 8 Course Syllabus</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../../../v1/misc/README.html">Extra and miscellaneous information</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/misc/connectors.html">Connector Courses and Extending Beyond Data 8</a>
    </li>
    <li class="">
      <a href="../../../v1/misc/links.html">Useful Links for Learning More</a>
    </li>
    <li class="">
      <a href="../../../v1/misc/faq.html">Frequently Asked Questions (FAQ)</a>
    </li>
  </ul>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../../../../_sources/content/v2/tech/jupyterhub/setup_jupyterhub.md.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Source interaction buttons -->
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
            <div class="dropdown-buttons sourcebuttons">
                <a class="repository-button" href="https://github.com/data-8/zero-to-data-8"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left" title="Source repository"><i class="fab fa-github"></i>repository</button></a>
                <a class="issues-button" href="https://github.com/data-8/zero-to-data-8/issues/new?title=Issue%20on%20page%20%2Fcontent/v2/tech/jupyterhub/setup_jupyterhub.html&body=Your%20issue%20content%20here."><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left" title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
                <a class="edit-button" href="https://github.com/data-8/zero-to-data-8/edit/master/content/v2/tech/jupyterhub/setup_jupyterhub.md"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left" title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
            </div>
        </div>
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-distribution-of-jupyterhub-should-i-use" class="nav-link">What distribution of JupyterHub should I use?</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#deploy-jupyterhub-on-a-single-vm-50-students" class="nav-link">Deploy JupyterHub on a single VM ( <= 50 students)</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#deploy-jupyterhub-on-kubernetes-50-students" class="nav-link">Deploy JupyterHub on Kubernetes ( > 50 students)</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#what-kind-of-hardware-should-i-use" class="nav-link">What kind of hardware should I use?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#how-much-will-this-cost" class="nav-link">How much will this cost?</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#a-note-on-the-rest-of-this-guide" class="nav-link">A note on the rest of this guide</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#next-step" class="nav-link">Next step</a>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/data-8/zero-to-data-8/edit/master/content/v2/tech/jupyterhub/setup_jupyterhub.md">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="deploying-jupyterhub">
<h1>Deploying JupyterHub<a class="headerlink" href="#deploying-jupyterhub" title="Permalink to this headline">¶</a></h1>
<p>JupyterHub gives each of your students access to their own
computational environment. Each student will have their own account with their own storage and workspaces so they can interact with the course material. JupyterHub has made great improvements to scalability and reliability in recent years, and has adopted modern-day cloud deployment technology such as Kubernetes. This section
covers how to set up a JupyterHub that runs the environment needed for
Data 8.</p>
<div class="section" id="what-distribution-of-jupyterhub-should-i-use">
<h2>What distribution of JupyterHub should I use?<a class="headerlink" href="#what-distribution-of-jupyterhub-should-i-use" title="Permalink to this headline">¶</a></h2>
<p>JupyterHub has a few “distributions” that make it easy to set up on a particular
kind of cloud infrastructure. Which one you choose will depend on your use case.
This section provides some information to help you decide.</p>
<p>There are two recommended methods for running a JupyterHub for your course: on a single VM or using Kubernetes clusters.
Which one you choose depends on the size and computational demands of the course.
To run the code in Data 8, students do not need high-powered environments.</p>
<p>Once you’ve followed either of the sections below, you should have a JupyterHub available at a
public address. The next section of this guide will focus on customizing the
environment that this JupyterHub serves in order to work with the Data 8
course materials.</p>
<div class="section" id="deploy-jupyterhub-on-a-single-vm-50-students">
<h3>Deploy JupyterHub on a single VM ( &lt;= 50 students)<a class="headerlink" href="#deploy-jupyterhub-on-a-single-vm-50-students" title="Permalink to this headline">¶</a></h3>
<p>For classes with 50 or fewer students we recommend
<a class="reference external" href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/"><strong>The Littlest JupyterHub</strong></a>, which deploys JupyterHub on a single virtual machine (VM). To set up The Littlest JupyterHub, follow the <a class="reference external" href="https://the-littlest-jupyterhub.readthedocs.io/en/latest/install/index.html">installation guide</a> specific to the cloud provider you are using to deploy a JupyterHub with a publicly-accessible IP address.</p>
</div>
<div class="section" id="deploy-jupyterhub-on-kubernetes-50-students">
<h3>Deploy JupyterHub on Kubernetes ( &gt; 50 students)<a class="headerlink" href="#deploy-jupyterhub-on-kubernetes-50-students" title="Permalink to this headline">¶</a></h3>
<p>For classes with more than 50 students we recommend the
<a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/"><strong>Zero to JupyterHub for Kubernetes</strong></a> guide.
This method uses an open-source technology called <a class="reference external" href="https://kubernetes.io/">Kubernetes</a>
to manage resources in the cloud. It is more complex, but much more scalable than
running JupyterHub on a single VM. This is what Data 8 uses at Berkeley.
Kubernetes are rapidly gaining popularity, and are generally easily-deployable
on all of the major cloud providers.</p>
<p>To set up JupyterHub on Kubernetes, follow the section of
Zero to JupyterHub that is relevant to the cloud
provider you are using. You will need to complete the following steps (which are linked
in the Z2JH guide, and are aslo listed below for clarity):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/create-k8s-cluster.html">Initialize Kubernetes on your cloud provider</a>
so that we can run kubernetes to set up JupyterHub.</p></li>
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-helm.html">Set up Helm</a>, a way to quickly install applications (like JupyterHub) using Kubernetes.</p></li>
<li><p><a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/setup-jupyterhub.html">Install JupyterHub</a>,
which gives us a fully-functional (though bare-bones) JupyterHub installation!</p></li>
</ul>
</div>
</div>
<div class="section" id="what-kind-of-hardware-should-i-use">
<h2>What kind of hardware should I use?<a class="headerlink" href="#what-kind-of-hardware-should-i-use" title="Permalink to this headline">¶</a></h2>
<p>One of the first things you will need to do when setting up JupyterHub is to choose the kind
of machines on which you will run the course infrastructure. For the Littlest JupyterHub there are a lot of choices to be made. You will need to decide what kinds of compute, storage, and memory usage requirements you anticipate. For Kubernetes there is an added dimension of clusters to consider when provisioning multiple nodes. Do you want fewer machines with a lot of RAM? Do you want machines with really fast CPUs? For
example, here is a list of <a class="reference external" href="https://cloud.google.com/compute/docs/machine-types">all google cloud machine types</a>
which you could pick from.</p>
<p>There is no single correct answer to what kind of machines you need for your class. However,
we have found that RAM is often the biggest bottleneck for a course like Data 8. With Kubernetes, we recommend
choosing machines which have a larger amount of RAM (and using fewer of them in the course, since
each machine will be able to accommodate more students).</p>
<!--- Link Atharva JH guide when published -->
</div>
<div class="section" id="how-much-will-this-cost">
<h2>How much will this cost?<a class="headerlink" href="#how-much-will-this-cost" title="Permalink to this headline">¶</a></h2>
<p>There are many factors that go into assessing how much it will cost to deploy
Data 8 for your course. The biggest of these are CPU and RAM that each student
will need to have available. For details on how choices of hardware using Kubernetes affect the cost of the
deployment, we recommend checking out the <a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/cost.html">Zero to JupyterHub deployment costs guide</a>.</p>
<!--- Remove when rest of guide includes TLJH -->
</div>
<div class="section" id="a-note-on-the-rest-of-this-guide">
<h2>A note on the rest of this guide<a class="headerlink" href="#a-note-on-the-rest-of-this-guide" title="Permalink to this headline">¶</a></h2>
<p>Note that while we have shown two options for deploying JupyterHub above,
the rest of this guide will focus on <strong>deploying JupyterHub with Kubernetes</strong>.
This is because running a JupyterHub on Kubernetes is more complex,
and warrants more guidance. However, if you are deploying a JupyterHub on a single VM
with The Littlest JupyterHub, you can follow along to determine the environment
needed to run your course.</p>
</div>
<div class="section" id="next-step">
<h2>Next step<a class="headerlink" href="#next-step" title="Permalink to this headline">¶</a></h2>
<p>Now that we have a running JupyterHub, the next step is
to <code class="xref any docutils literal notranslate"><span class="pre">customize</span> <span class="pre">your</span> <span class="pre">JupyterHub</span> <span class="pre">environment</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Berkeley Division of Data Sciences<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../../../_static/js/index.js"></script>
    
  </body>
</html>