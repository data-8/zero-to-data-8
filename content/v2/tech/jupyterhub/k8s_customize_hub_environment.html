

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Customizing the JupyterHub environment (Kubernetes) &#8212; Zero to Data 8</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/sphinx-book-theme.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/language_data.js"></script>
    <script src="../../../../_static/togglebutton.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script src="../../../../_static/mystnb.js"></script>
    <script src="../../../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <link rel="canonical" href="zero-to-data-8/content/v2/tech/jupyterhub/k8s_customize_hub_environment.html" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="zero-to-data-8/content/v2/tech/jupyterhub/k8s_customize_hub_environment.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Customizing the JupyterHub environment (Kubernetes)" />
<meta property="og:description" content="Customizing the JupyterHub environment (Kubernetes)  The Data 8 course uses a collection of Python modules and open-source technology for course infrastructure " />
<meta property="og:image"       content="zero-to-data-8/_static/data8.png" />

<meta name="twitter:card" content="summary">


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../../index.html">
  
  <img src="../../../../_static/data8.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Zero to Data 8</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="../../../v1/intro.html">An Educator’s Guide to Data 8</a>
  </li>
  <li class="">
    <a href="../../../v1/deploy/README.html">Deploying Data 8</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/deploy/choose_cloud.html">Choose where to deploy your JupyterHub</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/setup_jupyterhub.html">Deploy your JupyterHub</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/customize_hub_environment.html">Customize the JupyterHub environment for Data 8</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/connect_website_and_textbook.html">Set up your course website and textbook</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/connect_labs_and_homework.html">Set up your course labs and homework</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/course_logistics.html">Wisdom and tips for course logistics</a>
    </li>
    <li class="">
      <a href="../../../v1/deploy/deploy_locally.html">Demo the textbook locally</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../../../v1/tech/README.html">Technology stack</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/tech/considerations.html">General Technical Considerations</a>
    </li>
    <li class="">
      <a href="../../../v1/tech/tech.html">Technical Needs and the Tools that Do Them</a>
    </li>
    <li class="">
      <a href="../../../v1/tech/team.html">The Data 8 Tech Team Structure</a>
    </li>
    <li class="">
      <a href="../../../v1/tech/process.html">The DataHub Deployment Process</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../../../v1/teaching/README.html">Teaching and topics</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/teaching/inspiration.html">Inspiration for Data 8 Pedagogy</a>
    </li>
    <li class="">
      <a href="../../../v1/teaching/syllabus.html">The Data 8 Course Syllabus</a>
    </li>
  </ul>
  </li>
  <li class="">
    <a href="../../../v1/misc/README.html">Extra and miscellaneous information</a>
  <ul class="nav sidenav_l2">
    <li class="">
      <a href="../../../v1/misc/connectors.html">Connector Courses and Extending Beyond Data 8</a>
    </li>
    <li class="">
      <a href="../../../v1/misc/links.html">Useful Links for Learning More</a>
    </li>
    <li class="">
      <a href="../../../v1/misc/faq.html">Frequently Asked Questions (FAQ)</a>
    </li>
  </ul>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="../../../../_sources/content/v2/tech/jupyterhub/k8s_customize_hub_environment.md.txt"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Source interaction buttons -->
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
            <div class="dropdown-buttons sourcebuttons">
                <a class="repository-button" href="https://github.com/data-8/zero-to-data-8"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left" title="Source repository"><i class="fab fa-github"></i>repository</button></a>
                <a class="issues-button" href="https://github.com/data-8/zero-to-data-8/issues/new?title=Issue%20on%20page%20%2Fcontent/v2/tech/jupyterhub/k8s_customize_hub_environment.html&body=Your%20issue%20content%20here."><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left" title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
                <a class="edit-button" href="https://github.com/data-8/zero-to-data-8/edit/master/content/v2/tech/jupyterhub/k8s_customize_hub_environment.md"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left" title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
            </div>
        </div>
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#deploying-a-change-to-your-jupyterhub-configuration" class="nav-link">Deploying a change to your JupyterHub configuration</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#common-errors" class="nav-link">Common errors</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#customizing-your-hub-environment" class="nav-link">Customizing your Hub environment</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#using-the-data-8-docker-image" class="nav-link">Using the Data 8 Docker image</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#extending-each-user-s-environment" class="nav-link">Extending each user’s environment</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#modify-the-resources-available-to-your-users" class="nav-link">Modify the resources available to your users</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#memory-ram" class="nav-link">Memory (RAM)</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#disk-storage" class="nav-link">Disk Storage</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#authorization-for-your-hub" class="nav-link">Authorization for your hub</a><ul class="nav section-nav flex-column">
                
        <li class="nav-item toc-entry toc-h3">
            <a href="#authenticating-with-github" class="nav-link">Authenticating with GitHub</a>
        </li>
    
        <li class="nav-item toc-entry toc-h3">
            <a href="#adding-admin-users" class="nav-link">Adding admin users</a>
        </li>
    
            </ul>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#an-example-config-yaml-file" class="nav-link">An example config.yaml file</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#confirm-that-your-environment-works" class="nav-link">Confirm that your environment works</a>
        </li>
    
    </ul>
</nav>



<div class="tocsection editthispage">
    <a href="https://github.com/data-8/zero-to-data-8/edit/master/content/v2/tech/jupyterhub/k8s_customize_hub_environment.md">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="customizing-the-jupyterhub-environment-kubernetes">
<h1>Customizing the JupyterHub environment (Kubernetes)<a class="headerlink" href="#customizing-the-jupyterhub-environment-kubernetes" title="Permalink to this headline">¶</a></h1>
<p>The Data 8 course uses a collection of Python modules and open-source
technology for course infrastructure as well as teaching. We’ve
provided all of these materials as a Docker image that you can connect
to your JupyterHub so that all users will have the environment needed
for the class. This page describes how to set up your JupyterHub
environment on Kubernetes using Helm so that it serves the environment used in Data 8.</p>
<p>UC Berkeley deploys many JupyterHubs for its courses. You can see the documentation
that we use to coordinate information across JupyterHub teams
<a class="reference external" href="https://docs.datahub.berkeley.edu/en/latest/">in the UC Berkeley JupyterHubs guide</a>.</p>
<div class="section" id="deploying-a-change-to-your-jupyterhub-configuration">
<h2>Deploying a change to your JupyterHub configuration<a class="headerlink" href="#deploying-a-change-to-your-jupyterhub-configuration" title="Permalink to this headline">¶</a></h2>
<p>First things first, to make changes to your JupyterHub configuration, you
need to know how to <strong>deploy</strong> those changes. This section covers how to deploy
a change to your configuration file <code class="docutils literal notranslate"><span class="pre">config.yml</span></code> in Kubernetes.</p>
<p>All modifications to the base JupyterHub deployment are made with
changes to your <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file. When we first <a class="reference internal" href="setup_jupyterhub.html"><span class="doc">created our JupyterHub</span></a>,
we created this file with a single value inside that contained our secret token.</p>
<p><strong>Once you’ve made a change to <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code></strong> you can deploy it with the following
steps:</p>
<ol>
<li><p><strong>Double-check the syntax of your <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file.</strong> For example, you may have
copy/pasted two code snippets that both had</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singleuser</span><span class="p">:</span>
</pre></div>
</div>
<p>as the top header, and should be merged under a single header.
YAML is picky about how whitespaces/indentation are used,
and can throw cryptic errors if you have small errors like type-os.</p>
</li>
<li><p><strong>Deploy your change to the JupyterHub.</strong> Use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">upgrade</span> <span class="o">&lt;&lt;</span> <span class="n">YOUR</span><span class="o">-</span><span class="n">HUB</span><span class="o">-</span><span class="n">NAMESPACE</span> <span class="o">&gt;&gt;</span> <span class="n">jupyterhub</span><span class="o">/</span><span class="n">jupyterhub</span> <span class="o">--</span><span class="n">version</span><span class="o">=&lt;&lt;</span> <span class="n">YOUR</span><span class="o">-</span><span class="n">VERSION</span> <span class="o">&gt;&gt;</span> <span class="o">-</span><span class="n">f</span> <span class="n">config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>This runs a “Helm Upgrade”, which tells Kubernetes to update its deployment to match
the values that you’ve placed in <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>. The value in <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span> <span class="pre">YOUR-HUB-NAMESPACE</span> <span class="pre">&gt;&gt;</span></code> should
be whatever you chose when <a class="reference internal" href="setup_jupyterhub.html"><span class="doc">creating the JupyterHub</span></a>.</p>
<p>Most hardware modifications to your
Kubernetes deployment will be done in this way.</p>
</li>
</ol>
<div class="section" id="common-errors">
<h3>Common errors<a class="headerlink" href="#common-errors" title="Permalink to this headline">¶</a></h3>
<p><strong>“time out waiting for the condition”</strong>. It took too long to
pull the Docker image onto the JupyterHub. You can generally resolve this by including
a <code class="docutils literal notranslate"><span class="pre">--timeout=9999999</span></code> flag to your <code class="docutils literal notranslate"><span class="pre">helm</span> <span class="pre">upgrade</span></code> command. This will prevent Helm
from stopping too early.</p>
</div>
</div>
<div class="section" id="customizing-your-hub-environment">
<h2>Customizing your Hub environment<a class="headerlink" href="#customizing-your-hub-environment" title="Permalink to this headline">¶</a></h2>
<p>The environment provided to your students is defined by a Docker image
that JupyterHub serves to new user sessions. Which image to use is configured
in your <code class="docutils literal notranslate"><span class="pre">config.yml</span></code> file.</p>
<div class="section" id="using-the-data-8-docker-image">
<h3>Using the Data 8 Docker image<a class="headerlink" href="#using-the-data-8-docker-image" title="Permalink to this headline">¶</a></h3>
<p>First, we’ll tell the JupyterHub to connect user sessions with the
Docker image used by Data 8. This is done by adding the following to your
<code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singleuser</span><span class="p">:</span>
  <span class="n">image</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">berkeleydsep</span><span class="o">/</span><span class="n">datahub</span><span class="o">-</span><span class="n">user</span>
    <span class="n">tag</span><span class="p">:</span> <span class="mi">21</span><span class="n">be6ff</span>
</pre></div>
</div>
<p>To deploy the change, save the file, then run a helm upgrade:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">helm</span> <span class="n">upgrade</span> <span class="n">data8</span> <span class="n">jupyterhub</span><span class="o">/</span><span class="n">jupyterhub</span> <span class="o">--</span><span class="n">version</span><span class="o">=</span><span class="n">v0</span><span class="o">.</span><span class="mi">6</span> <span class="o">-</span><span class="n">f</span> <span class="n">config</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<p>Note that this will take a while if you’re using the data8 image, perhaps
upwards of 10 minutes, as it pulls the image into your Kubernetes deployment.</p>
</div>
<div class="section" id="extending-each-user-s-environment">
<h3>Extending each user’s environment<a class="headerlink" href="#extending-each-user-s-environment" title="Permalink to this headline">¶</a></h3>
<p>If you need to extend the base Docker image, you can do so interactively from
a JupyterHub session. For example students can <code class="docutils literal notranslate"><span class="pre">pip</span></code> or <code class="docutils literal notranslate"><span class="pre">conda</span></code> install packages
into their own user directories, and these will persist over time.</p>
</div>
</div>
<div class="section" id="modify-the-resources-available-to-your-users">
<h2>Modify the resources available to your users<a class="headerlink" href="#modify-the-resources-available-to-your-users" title="Permalink to this headline">¶</a></h2>
<p>In this section we’ll define what kind of resources your students have. For example,
how much RAM / CPU / etc. See the <a class="reference external" href="https://github.com/berkeley-dsep-infra/datahub/blob/staging/datahub/config.yaml#L140">Data 8 user resource configuration</a>
for example.</p>
<div class="section" id="memory-ram">
<h3>Memory (RAM)<a class="headerlink" href="#memory-ram" title="Permalink to this headline">¶</a></h3>
<p>The following snippet will give each user 1 gig of ram,
which is the amount given to Data 8 students at Berkeley. Students will
always have at least the amount specified in <code class="docutils literal notranslate"><span class="pre">guarantee</span></code> and their Jupyter
server will restart if they use more than <code class="docutils literal notranslate"><span class="pre">limit</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singleuser</span><span class="p">:</span>
  <span class="n">memory</span><span class="p">:</span>
    <span class="n">guarantee</span><span class="p">:</span> <span class="mi">1</span><span class="n">G</span>
    <span class="n">limit</span><span class="p">:</span> <span class="mi">1</span><span class="n">G</span>
</pre></div>
</div>
</div>
<div class="section" id="disk-storage">
<h3>Disk Storage<a class="headerlink" href="#disk-storage" title="Permalink to this headline">¶</a></h3>
<p>The following snippet gives students 2 gigs of persistent storage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singleuser</span><span class="p">:</span>
  <span class="n">storage</span><span class="p">:</span>
    <span class="n">capacity</span><span class="p">:</span> <span class="mi">2</span><span class="n">Gi</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="authorization-for-your-hub">
<h2>Authorization for your hub<a class="headerlink" href="#authorization-for-your-hub" title="Permalink to this headline">¶</a></h2>
<p>Authorization allows you to control who has access to your JupyterHub, as well
as keep track of who is accessing the hub.</p>
<p>There are many options for
authorization with JupyterHub. The Data 8 deployment uses the Berkeley
CalNet authentication system, which is part of the Google “G Suite”.
Your authentication approach depends on how your university authenticates.
You can also choose
authentication with popular services like GitHub.</p>
<p>See the <a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/authentication.html">Zero to JupyterHub Authentication guide</a> for information about various
authentication options and how to enable them.</p>
<p>For this guide, we’ll show you how to authenticate using GitHub usernames,
as this is a free service that is more widely-accessible than the particular
authentication system that any one university uses.</p>
<div class="section" id="authenticating-with-github">
<h3>Authenticating with GitHub<a class="headerlink" href="#authenticating-with-github" title="Permalink to this headline">¶</a></h3>
<p>To authenticate with GitHub, take the following the steps outlined
in the <a class="reference external" href="https://zero-to-jupyterhub.readthedocs.io/en/latest/authentication.html#github">Zero to JupyterHub Authentication Guide</a>.</p>
<p>Note: The DSEP authorization configuration <a class="reference external" href="https://github.com/berkeley-dsep-infra/datahub/blob/staging/datahub/config.yaml#L65">can be found here</a>.</p>
</div>
<div class="section" id="adding-admin-users">
<h3>Adding admin users<a class="headerlink" href="#adding-admin-users" title="Permalink to this headline">¶</a></h3>
<p>JupyterHub has an <strong>administrator</strong> page that can be used to see all of the
active sessions currently on the hub, as well as perform some simple actions
to help debug and fix student problems. To add a list of admin usernames,
add the following to the <code class="docutils literal notranslate"><span class="pre">auth</span></code> section of your <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">auth</span><span class="p">:</span>
  <span class="n">admin</span><span class="p">:</span>
    <span class="n">users</span><span class="p">:</span>
      <span class="o">-</span> <span class="o">&lt;</span><span class="n">LIST</span><span class="o">&gt;</span>
      <span class="o">-</span> <span class="o">&lt;</span><span class="n">OF</span><span class="o">&gt;</span>
      <span class="o">-</span> <span class="o">&lt;</span><span class="n">ADMIN</span><span class="o">&gt;</span>
      <span class="o">-</span> <span class="o">&lt;</span><span class="n">USERNAMES</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="an-example-config-yaml-file">
<h2>An example <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file<a class="headerlink" href="#an-example-config-yaml-file" title="Permalink to this headline">¶</a></h2>
<p>If you’ve followed all of the instructions on this page
(including authenticating with GitHub), your <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file should now
look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proxy</span><span class="p">:</span>
  <span class="n">secretToken</span><span class="p">:</span> <span class="s2">&quot;&lt;&lt; output of openssl rand -hex 32 &gt;&gt;&quot;</span>

<span class="n">singleuser</span><span class="p">:</span>  <span class="c1"># This defines the user environment</span>
  <span class="n">image</span><span class="p">:</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">berkeleydsep</span><span class="o">/</span><span class="n">datahub</span><span class="o">-</span><span class="n">user</span>
    <span class="n">tag</span><span class="p">:</span> <span class="n">da80cb1</span>
  <span class="n">memory</span><span class="p">:</span>
    <span class="n">guarantee</span><span class="p">:</span> <span class="mi">2</span><span class="n">G</span>
    <span class="n">limit</span><span class="p">:</span> <span class="mi">2</span><span class="n">G</span>
  <span class="n">storage</span><span class="p">:</span>
    <span class="n">capacity</span><span class="p">:</span> <span class="mi">2</span><span class="n">Gi</span>

<span class="n">auth</span><span class="p">:</span>
  <span class="nb">type</span><span class="p">:</span> <span class="n">github</span>
  <span class="n">github</span><span class="p">:</span>
    <span class="n">clientId</span><span class="p">:</span> <span class="s2">&quot;&lt;&lt; YOUR-CLIENT-ID &gt;&gt;&quot;</span>
    <span class="n">clientSecret</span><span class="p">:</span> <span class="s2">&quot;&lt;&lt; YOUR-CLIENT-SECRET &gt;&gt;&quot;</span>
    <span class="n">callbackUrl</span><span class="p">:</span> <span class="s2">&quot;http://&lt;&lt; YOUR-HUB-IP-ADDRESS &gt;&gt;/hub/oauth_callback&quot;</span>
  <span class="n">admin</span><span class="p">:</span>
    <span class="n">users</span><span class="p">:</span>
        <span class="o">-</span> <span class="o">&lt;</span><span class="n">LIST</span><span class="o">&gt;</span>
        <span class="o">-</span> <span class="o">&lt;</span><span class="n">OF</span><span class="o">&gt;</span>
        <span class="o">-</span> <span class="o">&lt;</span><span class="n">ADMIN</span><span class="o">&gt;</span>
        <span class="o">-</span> <span class="o">&lt;</span><span class="n">USERNAMES</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="confirm-that-your-environment-works">
<h2>Confirm that your environment works<a class="headerlink" href="#confirm-that-your-environment-works" title="Permalink to this headline">¶</a></h2>
<p>To confirm that you’re running the correct environment needed for Data 8,
take the following steps:</p>
<ol>
<li><p>Go to your JupyterHub’s public IP address. You can find this address with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kubectl</span> <span class="o">--</span><span class="n">namespace</span><span class="o">=</span><span class="n">data8</span> <span class="n">get</span> <span class="n">svc</span> <span class="n">proxy</span><span class="o">-</span><span class="n">public</span>
</pre></div>
</div>
</li>
<li><p>Log in with your username/password (if you haven’t logged in yet, use whatever
username/password you’d like)</p></li>
<li><p>Click “Start My Server”, then create a new Jupyter Notebook.</p></li>
<li><p>Run the following Python code</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datascience</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datascience</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>You should see the version for the <code class="docutils literal notranslate"><span class="pre">datascience</span></code> package printed below the cell.
If this worked, then congratulations! Your JupyterHub is ready to go.</p>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Berkeley Division of Data Sciences<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../../../_static/js/index.js"></script>
    
  </body>
</html>